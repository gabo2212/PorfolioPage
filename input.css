@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .glass-panel {
    @apply relative overflow-hidden rounded-[28px] border border-slate-200/40 bg-white/15 p-8 shadow-[0_35px_75px_-45px_rgba(15,23,42,0.65)] backdrop-blur-xl transition duration-500 ease-out dark:border-white/10 dark:bg-white/5;
  }

  .glass-panel::before {
    content: "";
    @apply absolute inset-0 rounded-[28px] opacity-0 transition duration-700 ease-out pointer-events-none;
    background: radial-gradient(circle at 20% 15%, rgba(96, 165, 250, 0.35), transparent 55%), radial-gradient(circle at 80% 85%, rgba(129, 140, 248, 0.25), transparent 60%);
  }

  .glass-panel:hover::before {
    @apply opacity-100 scale-105;
  }

  .glass-panel.glass-tight {
    @apply px-6 py-6 md:px-8 md:py-8;
  }

  .glass-panel.glass-zero {
    @apply p-0;
  }

  .chip {
    @apply inline-flex items-center rounded-full border border-slate-300/60 px-4 py-2 text-sm font-semibold tracking-wide text-slate-700 shadow-[0_6px_20px_-12px_rgba(15,23,42,0.35)] transition duration-300 ease-out dark:border-white/20 dark:text-slate-100 dark:bg-white/5 dark:shadow-[0_10px_30px_-18px_rgba(8,15,28,0.8)];
  }

  .chip::before {
    content: "";
    @apply mr-2 h-2 w-2 rounded-full bg-gradient-to-br from-sky-400 to-indigo-400 shadow-[0_0_0_2px_rgba(255,255,255,0.55)];
  }

  .chip:hover {
    @apply -translate-y-1 border-slate-400/70 shadow-[0_16px_35px_-26px_rgba(59,130,246,0.85)] dark:border-white/30;
  }

  .modal-panel {
    @apply glass-panel border-slate-200/50 bg-white/80 px-10 py-12 shadow-[0_60px_120px_-70px_rgba(15,23,42,0.7)] dark:bg-slate-900/85;
  }

  .modal-panel::before {
    @apply opacity-60;
  }

  .modal-badge {
    @apply inline-flex items-center gap-2 rounded-full border border-slate-200/70 bg-white/70 px-3.5 py-1 text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-600 dark:border-white/20 dark:bg-white/10 dark:text-slate-300;
  }

  .modal-close {
    @apply absolute right-6 top-6 inline-flex h-12 w-12 items-center justify-center rounded-full border border-slate-200/70 bg-white/80 text-slate-600 shadow-lg transition hover:-translate-y-1 hover:border-slate-400/70 hover:text-slate-900 dark:border-white/20 dark:bg-white/10 dark:text-slate-200;
  }
}

@layer utilities {
  .glass-grid {
    @apply grid gap-8 md:grid-cols-2 xl:grid-cols-3;
  }
}

@layer base {
  .case-overlay {
    @apply fixed inset-0 z-[120] hidden;
  }

  .case-overlay.is-open,
  .case-overlay:target {
    @apply block;
  }

  .case-overlay .overlay-backdrop {
    @apply absolute inset-0 bg-slate-950/65 backdrop-blur-[26px];
    animation: overlayFade .5s ease forwards;
  }

  .case-overlay .overlay-content {
    @apply modal-panel relative mx-auto flex h-[calc(100vh-12vh)] max-w-4xl flex-col gap-8 overflow-hidden pt-6;
    animation: overlaySlide .55s cubic-bezier(.16,1,.3,1) forwards;
  }

  .case-overlay .overlay-content::before {
    @apply pointer-events-none;
  }

  .case-overlay .overlay-body {
    @apply flex-1 overflow-y-auto pr-3;
  }

  .case-overlay .overlay-hero {
    @apply relative overflow-hidden rounded-3xl shadow-inner;
  }

  .case-overlay .overlay-hero::after {
    content: "";
    @apply absolute inset-0 bg-gradient-to-t from-slate-900/45 via-transparent to-transparent pointer-events-none;
  }

  body:has(.case-overlay:target),
  body.case-open {
    @apply overflow-hidden;
  }

  @media (max-width: 1024px) {
    .case-overlay .overlay-content {
      @apply h-[calc(100vh-16vh)] max-w-3xl px-8 pb-10 pt-6;
    }
  }

  @media (max-width: 640px) {
    .case-overlay .overlay-content {
      @apply mx-4 h-[calc(100vh-18vh)] px-6 pb-8 pt-6 rounded-[24px];
    }
  }

  @keyframes overlayFade {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes overlaySlide {
    0% { transform: translateY(32px) scale(.96); opacity: 0; }
    100% { transform: translateY(0) scale(1); opacity: 1; }
  }

  a[data-case-target] {
    cursor: pointer;
    transition: transform 0.25s ease, color 0.25s ease;
  }

  a[data-case-target]:hover {
    color: rgb(37 99 235);
    transform: translateX(0.35rem);
  }

  @media (prefers-color-scheme: dark) {
    a[data-case-target]:hover {
      color: rgb(147 197 253);
    }
  }
}
